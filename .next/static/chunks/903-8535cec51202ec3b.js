"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{5903:(e,t,r)=>{r.d(t,{A:()=>z});var s=r(5155),a=r(2115);let l=e=>{let{label:t,onClick:r,disabled:a=!1,type:l}=e;return(0,s.jsx)("button",{onClick:r,disabled:a,className:"".concat("px-4 py-2 rounded font-medium focus:outline-none"," ").concat("bg-white border-2 h-12 hover:border-none text-black hover:bg-yellow-400 hover:text-black hover:scale-110 disabled:bg-blue-300 ease-in-out transition delay-50 cursor-pointerease-in-out transition delay-50 cursor-pointer w-30  w-36"),type:l,children:t})};function n(e){return/[^0-9]/.test(e)?e:parseInt(e,10)}function i(e){return e.replace(/^['"]|['"]$/g,"")}let o=e=>{let{bridges:t,setSelectedStructureNumber:r}=e;return(0,s.jsxs)("div",{className:"p-5 pt-0 h-screen overflow-y-auto min-w-[270px] bg-white shadow-md rounded-md space-y-4 text-black",children:[(0,s.jsx)("h2",{className:"text-xl text-center font-semibold sticky top-0 bg-white z-10 p-5 border-b border-b-gray-500 w-full",children:"Bridges List"}),t&&t.length>0?t.map(e=>(0,s.jsxs)("div",{onClick:()=>r(e.structureNumber),className:"border p-2 rounded-md hover:scale-105 transition-all ease-in-out cursor-pointer",children:[(0,s.jsxs)("h3",{className:"font-bold",children:["Structure ",n(e.structureNumber)]}),(0,s.jsx)("p",{children:i(e.location)}),(0,s.jsxs)("p",{children:["Year Built: ",e.yearBuilt]})]},e.structureNumber)):(0,s.jsxs)("p",{className:"text-base text-center text-gray-800",children:["Adjust filters, and click on ",(0,s.jsx)("br",{}),' "Apply Filters" to start']})]})};var c=r(1350);let d=e=>{let{label:t,value:r,onChange:a,min:l=0,max:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)("label",{className:"text-gray-600 font-medium",children:t}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("input",{min:l,type:"number",placeholder:"Min",value:r.min,onChange:e=>{let t=parseInt(e.target.value,10)||0;a({...r,min:t})},className:"outline-none px-4 py-2 w-full border border-gray-300 rounded focus:ring-2 focus:ring-black text-black"}),(0,s.jsx)("input",{max:n,type:"number",placeholder:"Max",value:r.max,onChange:e=>{let t=parseInt(e.target.value,10)||0;a({...r,max:t})},className:"outline-none px-4 py-2 w-full border border-gray-300 rounded focus:ring-2 focus:ring-black text-black"})]})]})},u=e=>Object.entries(e).reduce((e,t)=>{let[r,s]=t;return e[s]=r,e},{}),m={1:"Highway, with or without pedestrian",2:"Railroad",3:"Pedestrian-bicycle",4:"Highway-railroad",5:"Waterway",6:"Highway-waterway",7:"Railroad-waterway",8:"Highway-waterway-railroad",9:"Relief for waterway",0:"Other"},h={1:"Interstate highway",2:"U.S. numbered highway",3:"State highway",4:"County highway",5:"City street",6:"Federal lands road",7:"State lands road",8:"Other (include toll roads not otherwise)"},x={1:"Bridge is on the National Register of Historic Places.",2:"Bridge is eligible for the National Register of Historic Places.",3:"Bridge is possibly eligible for the National Register of Historic Places (requires further investigation before determination can be made) or bridge is on a State or local historic register.",4:"Historical significance is not determinable at this time.",5:"Bridge is not eligible for the National Register of Historic Places."},p={0:"Not applicable",1:"North",2:"East",3:"South",4:"West"},g={N:"Not applicable, no waterway.",0:"No navigation control on waterway (bridge permit not required).",1:"Navigation control present on waterway."},b={1:"Toll bridge.",2:"On toll road.",3:"On free road."},j={1:"Principal Arterial - Interstate",2:"Principal Arterial - Other",6:"Minor Arterial",7:"Major Collector",8:"Minor Collector",9:"Local",11:"Principal Arterial - Interstate (Urban)",12:"Principal Arterial - Other Freeways or Expressways (Urban)",14:"Other Principal Arterial (Urban)",16:"Minor Arterial (Urban)",17:"Collector (Urban)",19:"Local (Urban)"},f={N:"NOT APPLICABLE",9:"EXCELLENT",8:"VERY GOOD",7:"GOOD",6:"SATISFACTORY",5:"FAIR",4:"POOR",3:"SERIOUS",2:"CRITICAL",1:'"IMMINENT" FAILURE',0:"FAILED"},N={F:"FAIR",G:"GOOD",P:"POOR"},y={1:"State Highway Agency",2:"County Highway Agency",3:"Town or Township Highway Agency",4:"City or Municipal Highway Agency",11:"State Park, Forest, or Reservation Agency",12:"Local Park, Forest, or Reservation Agency",21:"Other State Agencies",25:"Other Local Agencies",26:"Private (other than railroad)",27:"Railroad",31:"State Toll Authority",32:"Local Toll Authority",60:"Other Federal Agencies (not listed below)",61:"Indian Tribal Government",62:"Bureau of Indian Affairs",63:"Bureau of Fish and Wildlife",64:"U.S. Forest Service",66:"National Park Service",67:"Tennessee Valley Authority",68:"Bureau of Land Management",69:"Bureau of Reclamation",70:"Corps of Engineers (Civil)",71:"Corps of Engineers (Military)",72:"Air Force",73:"Navy/Marines",74:"Army",75:"NASA",76:"Metropolitan Washington Airports Service",80:"Unknown"},v={31:"Replacement of bridge or other structure because of substandard load carrying capacity or substandard bridge roadway geometry.",32:"Replacement of bridge or other structure because of relocation of road.",33:"Widening of existing bridge or other major structure without deck rehabilitation or replacement; includes culvert lengthening.",34:"Widening of existing bridge with deck rehabilitation or replacement.",35:"Bridge rehabilitation because of general structure deterioration or inadequate strength.",36:"Bridge deck rehabilitation with only incidental widening.",37:"Bridge deck replacement with only incidental widening.",38:"Other structural work, including hydraulic replacements."},w={A:"Open, no restriction",B:"Open, posting recommended but not legally implemented (all signs not in place or not correctly implemented)",D:"Open, would be posted or closed except for temporary shoring, etc. to allow for unrestricted traffic",E:"Open, temporary structure in place to carry legal loads while original structure is closed and awaiting replacement or rehabilitation",G:"New structure not yet open to traffic",K:"Bridge closed to all traffic",P:"Posted for load (may include other restrictions such as temporary bridges which are load posted)",R:"Posted for other load-capacity restriction (speed, number of vehicles on bridge, etc.)"},A={0:"Inspected feature does not meet currently acceptable standards or a safety feature is required and none is provided.*",1:"Inspected feature meets currently acceptable standards.*",N:"Not applicable or a safety feature is not required.*"},C={1:"Slab",2:"Stringer/Multi-beam or Girder",3:"Girder and Floorbeam System",4:"Tee Beam",5:"Box Beam or Girders - Multiple",6:"Box Beam or Girders - Single or Spread",7:"Frame (except frame culverts)",8:"Orthotropic",9:"Truss - Deck",10:"Truss - Thru",11:"Arch - Deck",12:"Arch - Thru",13:"Suspension",14:"Stayed Girder",15:"Movable - Lift",16:"Movable - Bascule",17:"Movable - Swing",18:"Tunnel",19:"Culvert (includes frame culverts)",20:"* Mixed types",21:"Segmental Box Girder",22:"Channel Beam",0:"Other"},S={1:"Concrete",2:"Concrete continuous",3:"Steel",4:"Steel continuous",5:"Prestressed concrete *",6:"Prestressed concrete continuous *",7:"Wood or Timber",8:"Masonry",9:"Aluminum, Wrought Iron, or Cast Iron",0:"Other"},k={R:"The right structure of parallel bridges carrying the roadway in the direction of the inventory. (For a STRAHNET highway, this is west to east and south to north.)",L:"The left structure of parallel bridges. This structure carries traffic in the opposite direction.",N:"No parallel structure exists."},O=u(f),T=u(N),E=e=>{let{filterParams:t,handleFilterChange:r}=e;return(0,s.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-col-1 sm:grid-cols-2 gap-2",children:[(0,s.jsx)(c.A,{label:"Bridge Condition",options:Object.values(N),selected:N[t.bridgeCondition],onSelect:e=>{r("bridgeCondition",T[e])}}),(0,s.jsx)(c.A,{label:"Deck Condition",options:Object.values(f),selected:f[t.deckCond],onSelect:e=>{r("deckCond",O[e])}}),(0,s.jsx)(c.A,{label:"Superstructure Condition",options:Object.values(f),selected:f[t.superstructureCond],onSelect:e=>{r("superstructureCond",O[e])}}),(0,s.jsx)(c.A,{label:"Substructure Condition",options:Object.values(f),selected:f[t.substructureCond],onSelect:e=>{r("substructureCond",O[e])}}),(0,s.jsx)(c.A,{label:"Channel Condition",options:Object.values(f),selected:f[t.channelCond],onSelect:e=>{r("channelCond",O[e])}}),(0,s.jsx)(c.A,{label:"Culvert Condition",options:Object.values(f),selected:f[t.culvertCond],onSelect:e=>{r("culvertCond",O[e])}})]}),(0,s.jsxs)("div",{className:"grid grid-col-1 sm:grid-cols-2 gap-2",children:[(0,s.jsx)(c.A,{label:"Structural Evaluation",options:Object.values(f),selected:f[t.structuralEval],onSelect:e=>{r("structuralEval",O[e])}}),(0,s.jsx)(c.A,{label:"Deck Geometry Evaluation",options:Object.values(f),selected:f[t.deckGeometryEval],onSelect:e=>{r("deckGeometryEval",O[e])}}),(0,s.jsx)(c.A,{label:"Under Clearance Evaluation",options:Object.values(f),selected:f[t.underclearanceEval],onSelect:e=>{r("underclearanceEval",O[e])}}),(0,s.jsx)(c.A,{label:"Waterway Evaluation",options:Object.values(f),selected:f[t.waterwayEval],onSelect:e=>{r("waterwayEval",O[e])}}),(0,s.jsx)(d,{label:"Approach Road Evaluation",value:t.apprRoadEval,onChange:e=>r("apprRoadEval",e),min:0,max:8}),(0,s.jsx)(d,{label:"Posting Evaluation",value:t.postingEval,onChange:e=>r("postingEval",e),min:0,max:5})]})]})},R=e=>{let{label:t,placeholder:r,value:a,onChange:l,description:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)("label",{className:"text-gray-600 font-medium",children:t}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:r,value:a,onChange:l,className:"outline-none px-4 py-2 w-full border border-gray-300 rounded focus:ring-2 focus:ring-black text-black"}),(0,s.jsx)("p",{children:n})]})]})},B=e=>{let{filterParams:t,handleFilterChange:r}=e,a=u(m),l=u(h);return(0,s.jsxs)("div",{className:"grid grid-col-1 sm:grid-cols-3 gap-4",children:[(0,s.jsx)(R,{label:"Location",placeholder:"Enter the address",value:t.location,onChange:e=>r("location",e.target.value)}),(0,s.jsx)(d,{label:"Year Built",value:t.yearBuilt,onChange:e=>r("yearBuilt",e),min:1697,max:2021}),(0,s.jsx)(d,{label:"Year Reconstructed",value:t.yearReconstructed,onChange:e=>r("yearReconstructed",e),min:0,max:2021}),(0,s.jsx)(c.A,{label:"Federal Agency",options:["Y","N"],selected:t.fedAgency,onSelect:e=>{r("fedAgency",e)}}),(0,s.jsx)(c.A,{label:"Highway",options:Object.values(h),selected:h[String(t.routePrefix)],onSelect:e=>{r("routePrefix",parseInt(l[e],10))}}),(0,s.jsx)(c.A,{label:"Service",options:Object.values(m),selected:m[String(t.serviceOn)],onSelect:e=>{r("serviceOn",parseInt(a[e],10))}})]})};var P=r(1958);r(8689);let I=e=>e/1e6,F=e=>e/1e6,D=e=>{let{bridges:t,viewport:r,setViewport:l}=e,[o,c]=(0,a.useState)(null),d=(0,a.useCallback)(e=>{let t=e.target;if("function"!=typeof t.getBounds)return;let r=t.getBounds();r&&l(e=>({...e,bounds:r?[r.getWest(),r.getSouth(),r.getEast(),r.getNorth()]:e.bounds}))},[l]);return(0,s.jsx)("div",{className:"hidden sm:flex h-screen flex-grow w-full p-4 bg-white shadow-md rounded-md",children:(0,s.jsx)(P.T5,{mapboxAccessToken:"pk.eyJ1IjoiYWhtYWRoYXdhbWRhaCIsImEiOiJjbTRidmltcDYwNGVvMmpwc3k0YnpkNXUwIn0.F-9_tsy0z7DuM2mD2BBPow",initialViewState:{longitude:r.longitude,latitude:r.latitude,zoom:r.zoom},onMoveEnd:d,mapStyle:"mapbox://styles/ahmadhawamdah/cm4g9ldnm008m01ra7osc4t0w",children:t.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)(P.pH,{longitude:F(e.long),latitude:I(e.lat),children:(0,s.jsx)("p",{className:"cursor-pointer text-xl",onClick:t=>{t.stopPropagation(),c(e)},children:"\uD83C\uDF09"})}),(null==o?void 0:o.long)===e.long&&(0,s.jsx)(P.zD,{longitude:F(o.long),latitude:I(o.lat),anchor:"top",onClose:()=>c(null),closeOnClick:!0,children:(0,s.jsxs)("div",{className:"z-20",children:[(0,s.jsxs)("p",{className:"text-base text-black",children:[(0,s.jsx)("strong",{children:" Structure "})," ",n(e.structureNumber)]}),(0,s.jsx)("p",{className:"text-xs text-gray-800",children:i(e.location)}),(0,s.jsxs)("p",{className:"text-xs text-gray-800",children:["Year Built: ",e.yearBuilt]})]})})]},e.structureNumber))})})};var L=r(775);let M=e=>{let{navigation:t}=e;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Navigation"}),(0,s.jsxs)("p",{className:"text-sm",children:["Direction: ",p[t[0].direction]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Traffic Lanes On: ",t[0].trafficLanesOn]}),(0,s.jsxs)("p",{className:"text-sm",children:["Traffic Lanes Under: ",t[0].trafficLanesUnd||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Traffic Direction: ",t[0].trafficDirection]}),(0,s.jsxs)("p",{className:"text-sm",children:["Navigation: ",g[t[0].navigation]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Toll: ",b[t[0].toll]?"Yes":"No"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Functional Class: ",j[t[0].functionalClass]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Detour: ",t[0].detourKilos||"N/A"," kilos"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Kilopoint: ",t[0].kilopoint||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["ADT (Average Daily Traffic): ",t[0].adt]}),(0,s.jsxs)("p",{className:"text-sm",children:["Percent ADT Truck: ",t[0].percentAdtTruck||"N/A","%"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Year ADT: ",t[0].yearAdt]}),(0,s.jsxs)("p",{className:"text-sm",children:["Future ADT: ",t[0].futureAdt]}),(0,s.jsxs)("p",{className:"text-sm",children:["Year of Future ADT: ",t[0].yearOfFutureAdt]})]})},W=e=>{let{condition:t}=e;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Condition"}),(0,s.jsxs)("p",{className:"text-sm",children:["Bridge Condition: ",N[t[0].bridgeCondition]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Deck Condition: ",f[t[0].deckCond]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Superstructure Condition: ",f[t[0].superstructureCond]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Substructure Condition: ",f[t[0].substructureCond]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Channel Condition: ",f[t[0].channelCond]||"N/A"]})]})},H=e=>{let{maintenance:t}=e;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Maintenance"}),(0,s.jsxs)("p",{className:"text-sm",children:["Maintenance Agency: ",y[t[0].maintenanceType]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Bridge Improvement: ","$"+t[0].bridgeImprovement]}),(0,s.jsxs)("p",{className:"text-sm",children:["Roadway Improvement: ","$"+t[0].roadwayImprovement]}),(0,s.jsxs)("p",{className:"text-sm",children:["Total Improvement: ","$"+t[0].totalImprovement]}),(0,s.jsxs)("p",{className:"text-sm",children:["Year of Improvement: ",t[0].yearOfImprovement||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Work Proposed: ",v[t[0].workProposed]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Inspection Frequency: ",t[0].inspectionFrequency]}),(0,s.jsxs)("p",{className:"text-sm",children:["Fracture Critical: ",t[0].fractureCritical||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Open/Closed/Posted: ",w[t[0].openClosedPosted]]})]})},Y=e=>{let{geometry:t}=e;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Geometry"}),(0,s.jsxs)("p",{className:"text-sm",children:["Structure Length: ",t[0].structureLength,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Deck Width: ",t[0].deckWidth,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Roadway Width: ",t[0].roadwayWidth,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Min Vertical Clearance: ",t[0].minVertClearance,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Width: ",t[0].apprWidth,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Structure Flared: ",t[0].structureFlared?"Yes":"No"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Navigation Vertical Clearance: ",t[0].navVertClearance,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Navigation Horizontal Clearance: ",t[0].navHorrClearance,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Left Curb Width: ",t[0].leftCurbWidth,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Right Curb Width: ",t[0].rightCurbWidth,"m"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Deck Area: ",t[0].deckArea,"m\xb2"]})]})},G=e=>{let{structure:t}=e;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Structure"}),(0,s.jsxs)("p",{className:"text-sm",children:["Structure Kind: ",S[t[0].structureKind]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Main Unit Spans: ",t[0].mainUnitSpans]}),(0,s.jsxs)("p",{className:"text-sm",children:["Median Code: ",t[0].medianCode]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Kind: ",t[0].apprKind]}),(0,s.jsxs)("p",{className:"text-sm",children:["Structure Type: ",C[t[0].structureType]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Type: ",t[0].apprType]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Spans: ",t[0].apprSpans]}),(0,s.jsxs)("p",{className:"text-sm",children:["Deck Structure Type: ",t[0].deckStructureType]}),(0,s.jsxs)("p",{className:"text-sm",children:["Railings: ",A[t[0].railings]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Transitions: ",A[t[0].transitions]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Rail: ",A[t[0].apprRail]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Approach Rail End: ",A[t[0].apprRailEnd]||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Parallel Structure: ",k[t[0].parallelStructure]]})]})},U=e=>{let{structureNumber:t,setSelectedStructureNumber:r}=e,[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null);if((0,a.useEffect)(()=>{t&&(async()=>{d(!0),p(null),t=t.toString();try{let e=await fetch("/api/bridge-info/".concat(t));if(!e.ok)throw Error("Failed to fetch bridge details");let r=await e.json();o(r)}catch(e){p(e.message||"An error occurred while fetching data.")}finally{d(!1)}})()},[t]),!t)return(0,s.jsx)("div",{className:"p-6 bg-white shadow-md rounded-md",children:"Select a bridge to view details."});if(c)return(0,s.jsx)(L.A,{});if(u)return(0,s.jsx)("div",{className:"p-6 bg-white shadow-md rounded-md text-red-500",children:u});if(!l)return(0,s.jsx)("div",{className:"p-6 bg-white shadow-md rounded-md",children:"No data available for this bridge."});let{navigation:g,conditon:b,maintenance:j,geometry:f,structure:N,history:y,serviceOn:v,routePrefix:w,fedAgency:A,...C}=l;return(0,s.jsxs)("div",{className:"overscroll-contain p-6 min-w-[270px] w-screen sm:w-1/2 h-screen overflow-y-auto bg-white shadow-md rounded-md text-black fixed bottom-0 left-0 z-20 sm:static sm:bottom-auto sm:left-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Bridge Details"}),(0,s.jsx)("button",{onClick:()=>r(null),className:"p-2 font-bold rounded-full bg-yellow-400 text-white hover:bg-red-600 transition-transform transform hover:scale-110 shadow-md w-10","aria-label":"Close",children:"✖"})]}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("section",{children:[(0,s.jsxs)("p",{className:"text-sm",children:["Structure Number: ",n(C.structureNumber)]}),(0,s.jsxs)("p",{className:"text-sm",children:["Location: ",i(C.location)]}),(0,s.jsxs)("p",{className:"text-sm",children:["Year Built: ",C.yearBuilt]}),(0,s.jsxs)("p",{className:"text-sm",children:["Year Reconstructed: ",C.yearReconstructed||"N/A"]}),(0,s.jsxs)("p",{className:"text-sm",children:["Latitude: ",I(C.lat)]}),(0,s.jsxs)("p",{className:"text-sm",children:["Longitude: ",F(C.long)]}),(0,s.jsxs)("p",{className:"text-sm",children:["Route Prefix: ",h[w]]}),(0,s.jsxs)("p",{className:"text-sm",children:["Federal Agency: ",A]}),(0,s.jsxs)("p",{className:"text-sm",children:["Service On: ",m[v]]}),(0,s.jsxs)("p",{className:"text-sm",children:["History: ",x[y]]})]}),g&&g.length>0&&(0,s.jsx)(M,{navigation:g}),b&&b.length>0&&(0,s.jsx)(W,{condition:b}),j&&j.length>0&&(0,s.jsx)(H,{maintenance:j}),f&&f.length>0&&(0,s.jsx)(Y,{geometry:f}),N&&N.length>0&&(0,s.jsx)(G,{structure:N})]})]})},z=e=>{let{type:t,filterParams:r,handleFilterChange:n}=e,[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)({longitude:-79.99,latitude:40.44,zoom:10,bounds:[-80.2433721923,40.25736666160802,-79.74761413572277,40.63464561993629]});console.log(x);let g=(0,a.useCallback)(async()=>{if(x.bounds){h(!0);try{let e=await fetch("/api/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,bounds:x.bounds})});if(!e.ok)throw Error("Failed to fetch data");let s=await e.json();c(s)}catch(e){console.error("Error fetching bridges:",e)}finally{h(!1)}}},[x.bounds,r]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{g()},500);return()=>clearTimeout(e)},[x.bounds,r]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Filters"}),"bridge"===t?(0,s.jsx)(B,{filterParams:r,handleFilterChange:n}):(0,s.jsx)(E,{filterParams:r,handleFilterChange:n}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(l,{onClick:()=>{g()},label:m?"Loading...":"Apply Filters"})})]}),(0,s.jsxs)("div",{className:"sm:flex h-full",children:[(0,s.jsx)(D,{bridges:i,viewport:x,setViewport:p}),(0,s.jsx)(o,{bridges:i,setSelectedStructureNumber:u}),d&&(0,s.jsx)(U,{structureNumber:d,setSelectedStructureNumber:u})]})]})}},1350:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(5155),a=r(2115);let l=e=>{let{options:t,selected:r,onSelect:l,label:n}=e,[i,o]=(0,a.useState)(!1),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"relative min-w-[200px]",ref:c,children:[n&&(0,s.jsx)("label",{className:"text-black font-medium mb-2 block",children:n}),(0,s.jsx)("button",{onClick:()=>o(e=>!e),className:"w-full text-left px-4 py-2 border text-gray-800 border-gray-300 rounded focus:ring-2 focus:ring-black focus:outline-none bg-white",children:r||"Select an option"}),i&&(0,s.jsx)("ul",{className:"absolute w-full mt-1 bg-white border border-gray-300 rounded shadow-lg max-h-40 overflow-y-auto z-30",children:t.length>0?t.map((e,t)=>(0,s.jsx)("li",{onClick:()=>{l(e),o(!1)},className:"px-4 py-2 text-black hover:bg-yellow-300 cursor-pointer",children:e},t)):(0,s.jsx)("li",{className:"px-4 py-2 text-gray-500",children:"No options available"})})]})}},775:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(5155);r(2115);let a=function(){return(0,s.jsx)("div",{className:"fixed inset-0 flex justify-center items-center bg-white bg-opacity-75 z-50",children:(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"})})}}}]);