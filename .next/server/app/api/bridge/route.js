(()=>{var e={};e.id=137,e.ids=[137],e.modules={6330:e=>{"use strict";e.exports=require("@prisma/client")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9445:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>p,serverHooks:()=>l,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>c});var s={};t.r(s),t.d(s,{POST:()=>u});var i=t(2706),n=t(8203),a=t(5994),o=t(2708);async function u(e){try{let{location:r="",yearBuilt:t={min:1967,max:2024},yearReconstructed:s={min:0,max:2024},fedAgency:i="",serviceOn:n=0,routePrefix:a=0,long:u=0,lat:p=0}=await e.json(),d={};r&&(d.stateCode=parseInt(r,10)),(t.min||t.max)&&(d.yearBuilt={gte:t.min||void 0,lte:t.max||void 0}),(s.min||s.max)&&(d.yearReconstructed={gte:s.min||void 0,lte:s.max||void 0}),i&&(d.fedAgency=i),n&&(d.serviceOn=n),a&&(d.routePrefix=a);let c=await o.A.bridge.findMany({where:d,select:{structureNumber:!0,location:!0,yearBuilt:!0,yearReconstructed:!0,fedAgency:!0,serviceOn:!0,routePrefix:!0,long:!0,lat:!0}});return new Response(JSON.stringify(c),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error fetching bridges:",e),new Response(JSON.stringify({message:"Failed to fetch bridges",error:e instanceof Error?e.message:"Unknown error"}),{status:500,headers:{"Content-Type":"application/json"}})}}let p=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/bridge/route",pathname:"/api/bridge",filename:"route",bundlePath:"app/api/bridge/route"},resolvedPagePath:"/Users/ahmadhawamdah/Documents/map9/src/app/api/bridge/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:c,serverHooks:l}=p;function m(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:c})}},6487:()=>{},8335:()=>{},2706:(e,r,t)=>{"use strict";e.exports=t(4870)},2708:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(6330);let i=globalThis.prismaGlobal??new s.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[994],()=>t(9445));module.exports=s})();